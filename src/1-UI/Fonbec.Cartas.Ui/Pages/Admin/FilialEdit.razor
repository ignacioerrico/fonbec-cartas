@page "/admin/filiales/{FilialId}"
@using Fonbec.Cartas.DataAccess.Constants
@using Fonbec.Cartas.Ui.Constants
@attribute [Authorize(Roles = FonbecRoles.Admin)]

<PageHeader Title="@_pageTitle" />

<ActivityIndicator Loading="_loading" />

<MudForm @bind-IsValid="@_formValidationSucceeded">
    <MudTextField T="string" Label="Nombre" @ref="_mudTextFieldNombre" @bind-Value="_filialName" Immediate="true"
                  Required="true" RequiredError="Se debe especificar el nombre."
                  MaxLength="MaxLength.Filial.Name" />

    <MudPaper Elevation="0" Class="pt-4">
        <MudButton OnClick="Save" Disabled="SaveButtonDisabled"
                   Variant="Variant.Filled" Color="Color.Primary" Class="ml-0 mr-4">
            @_saveButtonText
        </MudButton>
        <MudButton Href="@NavRoutes.AdminFiliales"
                   Variant="Variant.Filled" Color="Color.Default">
            Cancelar
        </MudButton>
    </MudPaper>
</MudForm>