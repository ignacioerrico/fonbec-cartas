@using Fonbec.Cartas.Logic.Models

<MudDialog>
    <DialogContent>
        <MudAutocomplete T="SelectableModel" Label="Padrino" @bind-Value="_viewModel.SelectedPadrino" SearchFunc="SearchPadrino"
                         Required="true" Variant="Variant.Filled" AnchorOrigin="Origin.BottomCenter">
        </MudAutocomplete>
        
        <MudDatePicker Label="Desde" @bind-Date="_viewModel.Desde" OpenTo="OpenTo.Month" Culture="EsArCultureInfo"
                       PickerVariant="PickerVariant.Dialog" />
        
        <MudDatePicker Label="Hasta" @bind-Date="_viewModel.Hasta" OpenTo="OpenTo.Month" Culture="EsArCultureInfo"
                       Disabled="!_viewModel.KnownEndDate"
                       PickerVariant="PickerVariant.Dialog" />
        
        <MudCheckBox T="bool" CheckedChanged="OnKnownEndDateChanged" Checked="_viewModel.KnownEndDate" Label="Sé hasta cuándo va a apadrinar" Color="Color.Primary"></MudCheckBox>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Cancel">
            Cancelar
        </MudButton>
        <MudButton OnClick="Add" Disabled="_viewModel.SelectedPadrino is null"
                   Color="Color.Primary" Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.Check">
            Asignar
        </MudButton>
    </DialogActions>
</MudDialog>